@page
@model Presentation.Pages.Admin.ElasticsearchModel
@{
    ViewData["Title"] = "Elasticsearch";
}

<div class="my-3 p-3 bg-body border shadow-sm rounded">
    <h1 class="fs-3 pb-2 mb-0 text-center border-bottom">Elasticsearch Indexes</h1>
    <div class="d-flex justify-content-between align-items-center border-bottom">
        <div class="p-2 flex-grow-1">
            <span>Students</span>
        </div>
        <div class="p-2 text-center">
            <form method="post">
                <span role="group" class="btn-group">
                    <button id="create" type="submit" class="btn btn-success" asp-page-handler="CreateStudentIndex">Create</button>
                    <button id="recreate" type="submit" class="btn btn-warning" asp-page-handler="RecreateStudentIndex">Recreate</button>
                    <button id="delete" type="submit" class="btn btn-danger" asp-page-handler="DeleteStudentIndex">Delete</button>
                </span>
            </form>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-center border-bottom">
        <div class="p-2 flex-grow-1">
            <span>Teachers</span>
        </div>
        <div class="p-2">
            <form method="post">
                <span role="group" class="btn-group">
                    <button id="create" type="submit" class="btn btn-success" asp-page-handler="Create">Create</button>
                    <button id="recreate" type="submit" class="btn btn-warning" asp-page-handler="Recreate">Recreate</button>
                    <button id="delete" type="submit" class="btn btn-danger" asp-page-handler="Delete">Delete</button>
                </span>
            </form>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-center border-bottom">
        <div class="p-2 flex-grow-1">
            <span>Lectures</span>
        </div>
        <div class="p-2">
            <form method="post">
                <span role="group" class="btn-group">
                    <button id="create" type="submit" class="btn btn-success" asp-page-handler="Create">Create</button>
                    <button id="recreate" type="submit" class="btn btn-warning" asp-page-handler="Recreate">Recreate</button>
                    <button id="delete" type="submit" class="btn btn-danger" asp-page-handler="Delete">Delete</button>
                </span>
            </form>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-center border-bottom">
        <div class="p-2 flex-grow-1">
            <span>Groups</span>
        </div>
        <div class="p-2">
            <form method="post">
                <span role="group" class="btn-group">
                    <button id="create" type="submit" class="btn btn-success" asp-page-handler="Create">Create</button>
                    <button id="recreate" type="submit" class="btn btn-warning" asp-page-handler="Recreate">Recreate</button>
                    <button id="delete" type="submit" class="btn btn-danger" asp-page-handler="Delete">Delete</button>
                </span>
            </form>
        </div>
    </div>
</div>

@section scripts{
    <script>
        $(function () {
            $("form #create").on("click", function() {
                $.ajax({
                    url: "?handler=CreateStudentIndex",
                    method: "POST"
                })
            });
            $("form #recreate").on("click", function() {
                $.ajax({
                    url: "?handler=RecreateStudentIndex",
                    method: "POST"
                })
            });
            $("form #delete").on("click", function() {
                $.ajax({
                    url: "?handler=DeleteStudentIndex",
                    method: "POST"
                })
            });
    </script>
}
